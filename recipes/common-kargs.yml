---
# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json
modules:
  - type: kargs
    kargs:
      # File System Optimization (BTRFS)
      # Sets the root subvolume, disables access time updates, and forces ZSTD compression level 1
      # - rootflags=subvol=root,noatime,compress=zstd:3

      # Processor Performance (Optimized for modern AMD CPUs like Ryzen 9 5950X)
      - transparent_hugepage=madvise # Better memory management for performance
      - amd_pstate=active # Enables the modern AMD P-State driver for better power/perf
      - mitigations=auto # Balanced security mitigations for CPU vulnerabilities

      # --- GAMING & LATENCY OPTIMIZATIONS ---
      # Força o kernel a ser totalmente preemptivo (Melhor consistência de frametime)
      # Nota: Pode aumentar ligeiramente o uso de CPU em idle, mas melhora resposta.
      - preempt=full

      # Desativa o watchdog de hardware (Economiza interrupções e um pouco de performance)
      - nowatchdog
