---
# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json
modules:
  - type: dnf
    remove:
      packages:
        # Removing default packages to keep the image lean and avoid duplication with Flatpaks
        - firefox
        - firefox-langpacks
        - mozilla-filesystem
        - htop # Replaced by Mission Center or topgrade
        - nvtop
        - kate
        - fcitx5-*
        - kcm-fcitx5
        - braille-printer-app
        - ibus-anthy
        - ibus-anthy-python # Japanese input
        - ibus-chewing
        - ibus-hangul
        - ibus-libpinyin
        - kasumi-common # Chinese input
        - kasumi-unicode # Chinese input

    install:
      packages:
        # Localization and System Information
        - langpacks-pt_BR
        - fastfetch
        - lm_sensors # For hardware temperature and fan monitoring

        # Cloud Storage and File Systems
        - rclone # Essential for the rclone-mount service
        - fuse3 # Required for mounting cloud drives
        # - kmodtool
        # - akmods

        # Video Drivers (Hybrid AMD/Intel support)
        - mesa-va-drivers # Hardware acceleration for AMD and older Intel GPUs
        - mesa-vdpau-drivers # Legacy video acceleration API support
        # - intel-media-driver # Hardware acceleration for newer Intel GPUs

  - type: dnf
    install:
      packages:
        # Multimedia Codecs for broad compatibility
        - gstreamer1-plugins-bad
        - gstreamer1-plugins-ugly
        - gstreamer1-plugin-openh264
        - libdvdcss
        - x264
        - x265
        - flac
        - lame
        - opus

  - type: dnf
    repos:
      cleanup: true
      copr:
        - atim/starship # Modern shell prompt
        - lilay/topgrade # Utility to update everything (system, flatpaks, containers)
    install:
      packages:
        - starship
        - topgrade
