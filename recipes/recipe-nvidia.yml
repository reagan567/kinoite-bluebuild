---
# Schema validation for BlueBuild recipes
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

name: kinoite-nvidia
description: "Customized Fedora Kinoite image with proprietary Nvidia drivers and CUDA support"

# Base image with Nvidia drivers pre-installed by Universal Blue
base-image: ghcr.io/ublue-os/kinoite-nvidia
image-version: latest

modules:
  # Inherits all shared system configurations (packages, flatpaks, kargs, etc.)
  - from-file: recipe-common.yml

  # Specific Kernel Arguments for Nvidia hardware
  - type: kargs
    kargs:
      # Enables Direct Rendering Manager (DRM) kernel mode-setting for Nvidia
      - nvidia-drm.modeset=1
      # Note: nouveau/nova_core blacklisting is usually handled by the base image,
      # but can be added here if specialized driver overrides are needed.
      # - rd.driver.blacklist=nouveau,nova_core
      # - modprobe.blacklist=nouveau,nova_core
  # Digital signing module for image integrity and verified updates
  - type: signing
