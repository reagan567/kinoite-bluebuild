[zram0]
# Sets the size to 1.5x physical RAM, but capped at 32GB
# to avoid wasting address space on machines with a lot of RAM.
zram-size = min(ram * 1.5, 32768)

# Zstd algorithm offers excellent compression; 'zsmalloc' helps with efficiency.
compression-algorithm = zstd

# Priority 100 is default, but we ensure it's higher than any disk swap.
swap-priority = 100

# Additional optimization: avoids fragmentation under heavy load.
fs-type = swap